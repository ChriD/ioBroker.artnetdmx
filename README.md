![Logo](admin/artnetdmx.png)
# ioBroker.artnetdmx

[![NPM version](https://img.shields.io/npm/v/iobroker.artnetdmx.svg)](https://www.npmjs.com/package/iobroker.artnetdmx)
[![Downloads](https://img.shields.io/npm/dm/iobroker.artnetdmx.svg)](https://www.npmjs.com/package/iobroker.artnetdmx)
![Number of Installations](https://iobroker.live/badges/artnetdmx-installed.svg)
![Current version in stable repository](https://iobroker.live/badges/artnetdmx-stable.svg)

[![NPM](https://nodei.co/npm/iobroker.artnetdmx.png?downloads=true)](https://nodei.co/npm/iobroker.artnetdmx/)

**Tests:** ![Test and Release](https://github.com/ChriD/ioBroker.artnetdmx/workflows/Test%20and%20Release/badge.svg)

## artnetdmx adapter for ioBroker

With this adapter you can control DMX lights via an ARTNET node.<br>
It was created to allow easy handling of dimmable, tunable white, rgb, rgbw, or rgbtw lights.<br>
Each channel on the light device can be configured, even fade times can be set per device and you can
override the device fade times and set light values directly via the 'valuesObject' state which is present 
on each light device



Art-Netâ„¢ Designed by and Copyright Artistic Licence Holdings Ltd"


## Getting started

* Set the artnet settings in the adapter to connect to a ARTNET node device
    * Connection settings
        | Field | Description |
        |-------------|-------------|
        | `Node IP` | The ip of your artnet node (artnet to dmx) |
        | `Port` | The port of the artnet node `default: 6454` |
        | `Local IPv4 network interface` | The interface which should be used for network connection |
    * Artnet/DMX Settings
        | Field | Description |
        |-------------|-------------|
        | `Universe` | the dmx universe which should be talked to `default: 0` |
        | `Net` | the dmx net which should be talked to `default: 0` |
        | `Subnet` | the dmx subnet which should be talked to `default: 0` |  
        | `Frames [per sec]` | The FPS with which the dmx values are updated `default (maxium fps): 44`<br> This rate only applies if there are value changes pending, otherwise the values are beeing refreshed periodically with the `Refresh period [ms]` period |  
        | `Refresh period [ms]` | The period where all dmx values are beeing sent in a bulk, even if there is no value change on a channel<br>This is needed because there are artnet nodes wich do rely on refreshing the whole dmx channel values every x seconds |  
        | `Default fade time [ms]` | The default fadeing time which is used when setting a channel value |  


* Define devices in the adapter settings
    In the device page of the admin gui you can add, change or delete devices. Changes in this list will be mirrored in the object tree. So if you
    delete a device here, it's corresponding states will be removed from the object tree. Therfore the adapter has to run when you make any changes
    to the qadapter settings
    * Device settings
        | Field | Description |
        |-------------|-------------|
        | `Name` | The name of the device |
        | `Id` | The id of the device<br>The id will be autogenerated after you filled in a name and it was empty before, but it can be changed manually<br>`ATTENTION! Changeing an id will result in deleting and recreating the device in the iobroker object tree`|
        | `Type` | The type of the device.<br>Choosing a type will enable/disable channel selections acording to the type of the device |
        | `Ch. main` | The channel number |
        | `Ch. white` | The channel number for white |
        | `Ch. red` | The channel number for red  |
        | `Ch. green` | The channel number for green  |
        | `Ch. blue` | The channel number for blue  |
        | `Fade time` | The fade time which is beeing used when changing the values of the channels to their new values  `default: -1` <br> If default value is used (-1) the fade time defined on the settings page will be used |


## Changelog

### **WORK IN PROGRESS**

-   valid tests for test automation
-   npm adapter publishing
-   add to iobroker latest

### 1.0.0 (2022-12-12)

-   (ChriD) initial version


## License
MIT License

Copyright (c) 2022 ChriD <chris_d85@hotmail.com>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
